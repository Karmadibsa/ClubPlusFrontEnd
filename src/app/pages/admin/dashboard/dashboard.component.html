<div class="sidebar">
  <app-sidebar></app-sidebar>
</div>

<!-- dashboard.component.html -->
<div class="container">
  <div class="header">
    <h1>Dashboard</h1>
    <div *ngIf="isLoading" style="text-align: center; padding: 10px;">Chargement des données...</div>
  </div>
  <!-- Section Statistiques -->
  <div class="stats-grid">
    <div class="card stat-card">
      <h3>Événements organisés</h3>
      <p class="stat-value">{{ totalEvents }}</p>
    </div>
    <div class="card stat-card">
      <h3>Événements à venir</h3>
      <p class="stat-value">{{ upcomingEventsCount }}</p>
    </div>
    <div class="card stat-card">
      <h3>Taux de participation</h3>
      <!-- Assure-toi que averageEventOccupancy est bien entre 0 et 1 dans le .ts -->
      <p class="stat-value">{{ averageEventOccupancy | percent:'1.0-1' }}</p>
    </div>
    <div class="card stat-card">
      <h3>Taux de participation</h3>
      <!-- Assure-toi que averageEventOccupancy est bien entre 0 et 1 dans le .ts -->
      <p class="stat-value">{{ averageEventOccupancy | percent:'1.0-1' }}</p>
    </div>
    <div class="card stat-card">
      <h3>Taux de participation</h3>
      <!-- Assure-toi que averageEventOccupancy est bien entre 0 et 1 dans le .ts -->
      <p class="stat-value">{{ averageEventOccupancy | percent:'1.0-1' }}</p>
    </div>
  </div>

  <!-- Section Graphiques -->
  <div class="charts-grid">
    <div class="card chart-container" style="position: relative; height:400px; display: block;">
      <h3>Évolution des Inscriptions</h3>
      <canvas baseChart
              *ngIf="membersChartData.datasets.length > 0 && !isLoading"
              [data]="membersChartData"
              [options]="membersChartOptions"
              [type]="'line'"> <!-- <<< CHANGEMENT ICI : 'line' >>> -->
      </canvas>
      <div *ngIf="membersChartData.datasets.length === 0 && !isLoading" class="chart-placeholder">
        Aucune donnée d'inscription.
      </div>
    </div>

    <div class="card chart-container" style="position: relative; height:400px; display: block;">
      <h3>Notes Moyennes</h3>
      <canvas baseChart
              *ngIf="ratingsChartData.datasets.length > 0 && !isLoading"
              [data]="ratingsChartData"
              [options]="ratingsChartOptions"
              [type]="'bar'"> <!-- Reste en 'bar' -->
      </canvas>
      <div *ngIf="ratingsChartData.datasets.length === 0 && !isLoading" class="chart-placeholder">
        Aucune donnée de notes.
      </div>
    </div>
  </div>

  <!-- Tes sections Tableaux (commentées, comme dans ton code) -->
  <!-- <div class="tables-grid"> ... </div> -->

</div>

